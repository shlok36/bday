<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Kinjal</title>
<link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html,body { height:100%; width:100%; font-family:'Poppins',sans-serif; overflow:hidden; background:#000; }

  /* Animated gradient background */
  body::before {
    content:"";
    position:fixed; top:0; left:0;
    width:100%; height:100%;
    background: linear-gradient(-45deg, #0f0f1f, #1a1a2e, #ff4f81, #ff66cc);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    z-index:-2;
  }
  @keyframes gradientBG {
    0% { background-position:0% 50%; }
    50% { background-position:100% 50%; }
    100% { background-position:0% 50%; }
  }

  /* Stars overlay */
  body::after {
    content:"";
    position:fixed; top:0; left:0;
    width:100%; height:100%;
    background:transparent url("https://www.transparenttextures.com/patterns/stardust.png") repeat;
    opacity:0.4; z-index:-1;
    animation: twinkle 5s linear infinite;
  }
  @keyframes twinkle { 0%{opacity:0.3;} 50%{opacity:0.6;} 100%{opacity:0.3;} }

  .page {
    position:absolute; top:0; left:0;
    width:100%; height:100%;
    display:flex; justify-content:center; align-items:center; flex-direction:column;
    transition: opacity 0.8s ease; opacity:0; pointer-events:none;
  }
  .page.active { opacity:1; pointer-events:auto; }

  /* Page1 Countdown */
  #page1 { color:#fff; text-align:center; }
  #countdown { font-size:15vw; font-weight:800; color:#ff4f81; animation:pop 1s infinite alternate; }
  @keyframes pop { from{transform:scale(1); opacity:0.8;} to{transform:scale(1.4); opacity:1;} }
  #birthdayMessage { display:none; font-family:'Sacramento',cursive; font-size:12vw; color:#ffccff; text-shadow:0 0 20px #ff66cc,0 0 40px #ff4f81; animation:glow 1.5s infinite alternate; }
  @keyframes glow { from{text-shadow:0 0 3vw #ff66cc,0 0 6vw #ff4f81;} to{text-shadow:0 0 6vw #ff99ff,0 0 10vw #ff4f81;} }

  /* Page2 Poster */
  #page2 { flex-direction:column; }
  .poster-container { position: relative; display:flex; flex-direction:column; align-items:center; justify-content:center; }
  .poster-image { max-width:90vw; max-height:70vh; border-radius:2vw; box-shadow:0 0 2vw gold, 0 0 4vw rgba(255,215,0,0.6); animation: zoomIn 1.2s ease forwards; }
  @keyframes zoomIn { from{transform:scale(0.8); opacity:0;} to{transform:scale(1); opacity:1;} }
  #posterNextBtn { margin-top:2vmin; padding:1.5vmin 3vmin; font-size:3vmin; border:none; border-radius:10vmin; background:linear-gradient(135deg,#FFD700,#FFA500); color:black; font-weight:700; cursor:pointer; box-shadow:0 0.5vmin 1.5vmin rgba(0,0,0,0.6); transition:transform 0.3s; }
  #posterNextBtn:hover { transform:scale(1.1); }
  #confettiCanvas { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; }

  /* Page3 Video */
  #page3 { color:white; flex-direction:column; }
  #videoContainer { width:90%; max-width:600px; display:flex; flex-direction:column; align-items:center; justify-content:center; }
  #birthdayVideo { width:100%; max-height:60vh; border-radius:3vw; box-shadow:0 0 4vw rgba(255,79,129,0.8); background:black; }
  .video-controls { margin-top:2vw; display:flex; gap:2vw; flex-wrap:wrap; justify-content:center; }
  .video-controls button { padding:2vw 4vw; border:none; border-radius:5vw; background:linear-gradient(135deg,#ff4f81,#ff66cc); color:white; font-weight:600; font-size:3vw; cursor:pointer; box-shadow:0 0.5vw 1.5vw rgba(0,0,0,0.4); transition:transform 0.3s;}
  .video-controls button:hover { transform:scale(1.1); }

  /* Page4 Scratch Letter */
  #page4 { display:flex; justify-content:center; align-items:center; flex-direction:column; padding:3vw; }
  .scratch-container { position:relative; display:inline-block; }
  .letter-image { max-width:85vw; max-height:80vh; border-radius:2vw; box-shadow:0 1vw 3vw rgba(0,0,0,0.6); object-fit:contain; }
  #scratchCanvas { position:absolute; top:0; left:0; border-radius:2vw; }
  #letterNextBtn { margin-top:3vmin; padding:2vmin 4vmin; font-size:3vmin; border:none; border-radius:10vmin; background:linear-gradient(135deg,#ff66cc,#ff4f81); color:white; cursor:pointer; font-weight:700; box-shadow:0 0.5vmin 1.5vmin rgba(0,0,0,0.6); transition:transform 0.3s; }
  #letterNextBtn:hover { transform:scale(1.1); }

  /* Page5 Slideshow */
  #page5 { color:#fff; flex-direction:column; justify-content:center; align-items:center; padding:5vw; }
  #page5 h1 { font-family:'Sacramento',cursive; font-size:10vw; color:#ffccff; margin-bottom:4vw; text-shadow:0 0 2vw #ff4f81,0 0 4vw #ff66cc; text-align:center; }
  .slideshow { width:90%; max-width:400px; display:flex; justify-content:center; align-items:center; }
  .slideshow img { width:100%; border-radius:3vw; box-shadow:0 0.5vw 3vw rgba(0,0,0,0.6); transition:opacity 0.6s ease-in-out; border:0.5vw solid #ff4f81; }

  .signature { position:absolute; font-family:'Sacramento',cursive; font-size:4vw; color:#ff99ff; opacity:0.8; bottom:2vw; left:50%; transform:translateX(-50%); }
</style>
</head>
<body>

<!-- Page1 Countdown -->
<div id="page1" class="page active">
  <div id="countdown">3</div>
  <div id="birthdayMessage">It's your 16th Birthday!</div>
  <div class="signature">Made by Shlok</div>
</div>

<!-- Page2 Poster -->
<div id="page2" class="page">
  <div class="poster-container">
    <img src="poster.png" alt="Birthday Poster" class="poster-image">
    <canvas id="confettiCanvas"></canvas>
    <button id="posterNextBtn" onclick="nextPage()">Next ‚ûù</button>
  </div>
  <div class="signature">Made by Shlok</div>
</div>

<!-- Page3 Video -->
<div id="page3" class="page">
  <div id="videoContainer">
    <video id="birthdayVideo" poster="template.jpg">
      <source src="MOVIE.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <div class="video-controls">
      <button onclick="playVideo()">‚ñ∂ Play</button>
      <button onclick="pauseVideo()">‚è∏ Pause</button>
      <button onclick="restartVideo()">üîÑ Restart</button>
      <button onclick="toggleMute()" id="muteBtn">üîá Mute</button>
      <button onclick="nextPage()">Next ‚ûù</button>
    </div>
  </div>
  <div class="signature">Made by Shlok</div>
</div>

<!-- Page4 Scratch Letter -->
<div id="page4" class="page">
  <div class="scratch-container">
    <img src="letter.webp" alt="Birthday Letter" class="letter-image" id="letterImg">
    <canvas id="scratchCanvas"></canvas>
  </div>
  <button id="letterNextBtn" onclick="nextPage()">Next ‚ûù</button>
  <div class="signature">Made by Shlok</div>
</div>

<!-- Page5 Slideshow -->
<div id="page5" class="page">
  <h1>Happy Birthday Kinjal</h1>
  <div class="slideshow">
    <img id="slide" src="photo1.jpg" alt="Kinjal">
  </div>
  <div class="signature">Made by Shlok</div>
</div>

<script>
let currentPage = 1;
const totalPages = 5;
const pages = [
  document.getElementById("page1"),
  document.getElementById("page2"),
  document.getElementById("page3"),
  document.getElementById("page4"),
  document.getElementById("page5")
];

let countdown = 3;
const countdownEl = document.getElementById("countdown");
const birthdayMsg = document.getElementById("birthdayMessage");
const video = document.getElementById("birthdayVideo");

// Countdown
const timer = setInterval(()=>{
  countdown--;
  if(countdown>0) countdownEl.textContent = countdown;
  else {
    clearInterval(timer);
    countdownEl.style.display="none";
    birthdayMsg.style.display="block";
    setTimeout(()=>{ nextPage(); },2000);
  }
},1000);

function nextPage(){
  if(currentPage===3 && !video.paused){ video.pause(); video.currentTime=0; }
  pages[currentPage-1].classList.remove("active");
  currentPage++;
  if(currentPage>totalPages) currentPage=totalPages;
  pages[currentPage-1].classList.add("active");

  if(currentPage===2) launchConfetti();
  if(currentPage===4) resizeCanvas();
}

function playVideo(){ video.play(); }
function pauseVideo(){ video.pause(); }
function restartVideo(){ video.currentTime=0; video.play(); }
function toggleMute(){ video.muted=!video.muted; document.getElementById("muteBtn").textContent=video.muted?"üîä Unmute":"üîá Mute"; }

// Confetti
function launchConfetti(){
  const confettiCanvas = document.getElementById("confettiCanvas");
  const ctx = confettiCanvas.getContext("2d");
  confettiCanvas.width = window.innerWidth;
  confettiCanvas.height = window.innerHeight;
  let confettiPieces = [];
  for(let i=0;i<200;i++){
    confettiPieces.push({
      x: Math.random()*confettiCanvas.width,
      y: Math.random()*confettiCanvas.height - confettiCanvas.height,
      color: `hsl(${Math.random()*360},100%,50%)`,
      size: Math.random()*8+4,
      speed: Math.random()*5+2
    });
  }
  function drawConfetti(){
    ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    confettiPieces.forEach(p=>{
      ctx.fillStyle=p.color;
      ctx.fillRect(p.x,p.y,p.size,p.size);
      p.y+=p.speed;
      if(p.y>confettiCanvas.height) p.y=-p.size;
    });
    requestAnimationFrame(drawConfetti);
  }
  drawConfetti();
}

// Scratch setup
const scratchCanvas = document.getElementById("scratchCanvas");
const ctx = scratchCanvas.getContext("2d");
const letterImg = document.getElementById("letterImg");

function resizeCanvas(){
  scratchCanvas.width = letterImg.clientWidth;
  scratchCanvas.height = letterImg.clientHeight;
  ctx.fillStyle = "magenta";
  ctx.fillRect(0,0,scratchCanvas.width,scratchCanvas.height);
  ctx.fillStyle="white";
  ctx.font="bold 3vw Poppins";
  ctx.textAlign="center";
  ctx.fillText("Scratch here to reveal your letter üíå", scratchCanvas.width/2, scratchCanvas.height/2);
}
window.addEventListener("resize", resizeCanvas);

let scratching = false;
scratchCanvas.addEventListener("mousedown",()=>scratching=true);
scratchCanvas.addEventListener("mouseup",()=>scratching=false);
scratchCanvas.addEventListener("mousemove",scratch);
scratchCanvas.addEventListener("touchstart",()=>scratching=true);
scratchCanvas.addEventListener("touchend",()=>scratching=false);
scratchCanvas.addEventListener("touchmove",scratch);

function scratch(e){
  if(!scratching) return;
  e.preventDefault();
  const rect = scratchCanvas.getBoundingClientRect();
  const clientX = e.clientX || e.touches[0].clientX;
  const clientY = e.clientY || e.touches[0].clientY;
  const x = clientX - rect.left;
  const y = clientY - rect.top;
  ctx.globalCompositeOperation="destination-out";
  ctx.beginPath();
  ctx.arc(x,y,30,0,Math.PI*2);
  ctx.fill();
}

// Slideshow
const photos=["photo1.jpg","photo2.jpg","photo3.jpg","photo4.jpg","photo5.jpg","photo6.jpg"];
let idx=0;
const slide=document.getElementById("slide");
setInterval(()=>{
  idx=(idx+1)%photos.length;
  slide.style.opacity=0;
  setTimeout(()=>{ slide.src=photos[idx]; slide.style.opacity=1; },600);
},3000);
</script>
</body>
</html>
